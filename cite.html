<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cite Us â€“ Performance Per TCO Calculator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <nav>
      <a href="index.html">Home</a>
      <a href="doc.html">Documentation</a>
      <a href="faq.html">FAQ</a>
      <a href="features.html">On the Horizon</a>
      <a href="feedback.html">Give Feedback</a>
      <a href="cite.html">Cite Us</a>
    </nav>
  </header>

  <!-- Placeholder for citation content -->
  <main id="citation-container"></main>

  <!-- JavaScript that dynamically adds citation -->
  <script>
    // Get today's date in the format "Month Day, Year"
    const todaysDate = new Date().toLocaleDateString('en-US', { 
      year: 'numeric', month: 'long', day: 'numeric' 
    });

    const citePageContent = `
      <div style="text-align: center; margin: 40px auto; width: 80%; max-width: 800px;">
        <h1>Cite Us</h1>
        <p>Please cite the following when using the "Performance Per TCO Calculator" in your research:</p>
        <div style="margin-top: 20px; font-size: 16px; line-height: 1.6;">
          <strong>APA Citation:</strong><br>
          Afzal, A. (2025). <i>Performance Per TCO Calculator</i>. Retrieved from 
          <a href="https://perfpertco.netlify.app" target="_blank">https://perfpertco.netlify.app</a> 
          Accessed: ${todaysDate}.<br><br>

          <strong>BibTeX Citation:</strong><br>
          <pre style="font-size: 14px; font-family: monospace; background-color: #f0f0f0; padding: 10px;">
@misc{Afzal2025PerformancePerTCO,
  author       = {Ayesha Afzal},
  title        = {Performance Per TCO Calculator},
  year         = {2025},
  howpublished = {\\url{https://perfpertco.netlify.app}},
  note         = {Accessed: ${todaysDate}. Licensed under CC BY 4.0.}
}
          </pre><br><br>

          <strong>Download Citation:</strong><br>
          <a href="#" id="downloadBib" 
             style="padding: 8px 16px; background-color: #3366cc; color: white; text-decoration: none; border-radius: 5px;">
             Download BibTeX</a>
        </div>
      </div>
    `;

    // Add content to main container
    document.getElementById('citation-container').innerHTML = citePageContent;

    // Generate and offer BibTeX download on click
    const bibtexContent = `@misc{Afzal2025PerformancePerTCO,
  author       = {Ayesha Afzal},
  title        = {Performance Per TCO Calculator},
  year         = {2025},
  howpublished = {\\url{https://perfpertco.netlify.app}},
  note         = {Accessed: ${todaysDate}. Licensed under CC BY 4.0.}
}`;

    document.getElementById('downloadBib').addEventListener('click', function(e) {
      e.preventDefault();
      const blob = new Blob([bibtexContent], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'PerformancePerTCO.bib';
      a.click();
      URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
