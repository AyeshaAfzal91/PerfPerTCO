<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cite Us â€“ Performance Per TCO Calculator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <nav>
      <a href="index.html">Home</a>
      <a href="doc.html">Documentation</a>
      <a href="faq.html">FAQ</a>
      <a href="features.html">On the Horizon</a>
      <a href="feedback.html">Give Feedback</a>
      <a href="cite.html">Cite Us</a>
    </nav>
  </header>

  <!-- Citation content placeholder -->
  <main id="citation-container"></main>

  <!-- JavaScript for dynamic citation content -->
  <script>
    const todaysDate = new Date().toLocaleDateString('en-US', { 
      year: 'numeric', month: 'long', day: 'numeric' 
    });

    const citePageContent = `
      <section class="cite-section">
        <h1>Cite Us</h1>
        <p>
          Please cite the following when using the 
          <strong>Performance Per TCO Calculator</strong> in your research:
        </p>
        
        <div class="citation-block">
          <h3>APA Citation</h3>
          <p>
            Afzal, A. (2025). <i>Performance Per TCO Calculator</i>. Retrieved from 
            <a href="https://perfpertco.netlify.app" target="_blank">https://perfpertco.netlify.app</a><br>
            Accessed: ${todaysDate}.
          </p>
          
          <h3>BibTeX Citation</h3>
          <pre class="bibtex-block">
@misc{Afzal2025PerformancePerTCO,
  author       = {Ayesha Afzal},
  title        = {Performance Per TCO Calculator},
  year         = {2025},
  howpublished = {\\url{https://perfpertco.netlify.app}},
  note         = {Accessed: ${todaysDate}. Licensed under CC BY 4.0.}
}
          </pre>
          
          <a href="#" id="downloadBib" class="download-bib-button">Download BibTeX</a>
        </div>
      </section>
    `;

    document.getElementById('citation-container').innerHTML = citePageContent;

    const bibtexContent = `@misc{Afzal2025PerformancePerTCO,
  author       = {Ayesha Afzal},
  title        = {Performance Per TCO Calculator},
  year         = {2025},
  howpublished = {\\url{https://perfpertco.netlify.app}},
  note         = {Accessed: ${todaysDate}. Licensed under CC BY 4.0.}
}`;

    document.addEventListener("click", function (e) {
      if (e.target && e.target.id === "downloadBib") {
        e.preventDefault();
        const blob = new Blob([bibtexContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'PerformancePerTCO.bib';
        a.click();
        URL.revokeObjectURL(url);
      }
    });
  </script>
</body>
</html>
