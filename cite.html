<!DOCTYPE html>
<html lang="en">
<body>
  <header>
    <nav>
      <a href="index.html">Home</a>
      <a href="doc.html">Documentation</a>
      <a href="faq.html">FAQ</a>
      <a href="features.html">On the Horizon</a>
      <a href="feedback.html">Give Feedback</a>
      <a href="cite.html">Cite Us</a>
    </nav>
  </header>

  <main>
    <h1>Cite Us</h1>
    <p style="text-align: center;">
      Please cite the following when using the <strong>Performance Per TCO Calculator</strong> in your research.
    </p>

    <div class="section">
      <strong>APA Citation:</strong><br>
      Afzal, A. (2025). <i>Performance Per TCO Calculator</i>. Retrieved from 
      <a href="https://perfpertco.netlify.app" target="_blank">https://perfpertco.netlify.app</a> 
      Accessed: <span id="apa-date">[Today]</span>.
    </div>

    <div class="section">
      <strong>BibTeX Citation:</strong>
      <pre id="bibtex-block">
@misc{Afzal2025PerformancePerTCO,
  author       = {Ayesha Afzal},
  title        = {Performance Per TCO Calculator},
  year         = {2025},
  howpublished = {\url{https://perfpertco.netlify.app}},
  note         = {Accessed: [Today]. Licensed under CC BY 4.0.}
}
      </pre>
      <a href="#" id="downloadBib" class="download-btn">Download BibTeX</a>
    </div>
  </main>

  <script>
    const todaysDate = new Date().toLocaleDateString('en-US', { 
      year: 'numeric', month: 'long', day: 'numeric' 
    });

    // Update dynamic dates
    document.getElementById('apa-date').innerText = todaysDate;
    const bibtexBlock = document.getElementById('bibtex-block');
    bibtexBlock.innerText = bibtexBlock.innerText.replace('[Today]', todaysDate);

    // Create and download dynamic .bib file
    const bibtexContent = `@misc{Afzal2025PerformancePerTCO,
  author       = {Ayesha Afzal},
  title        = {Performance Per TCO Calculator},
  year         = {2025},
  howpublished = {\\url{https://perfpertco.netlify.app}},
  note         = {Accessed: ${todaysDate}. Licensed under CC BY 4.0.}
}`;

    document.getElementById('downloadBib').addEventListener('click', function(e) {
      e.preventDefault();
      const blob = new Blob([bibtexContent], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'PerformancePerTCO.bib';
      a.click();
      URL.revokeObjectURL(url);
    });
  </script>
</body>
</html>
